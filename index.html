<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Detetive Neuro ‚Äî Escape Room 3.0</title>
<style>
body{margin:0;font-family:Arial;background:#050b1a;color:white;text-align:center}
#game{max-width:900px;margin:auto;padding:20px}
img{max-width:100%;border-radius:12px}
.card{background:rgba(0,0,0,.75);padding:20px;border-radius:14px;box-shadow:0 0 20px #00bfff}
button{padding:12px 20px;margin:6px;border-radius:10px;border:none;font-size:16px;cursor:pointer;background:#00bfff;color:black}
button:hover{opacity:0.85}
#hud{display:flex;justify-content:space-between;margin-bottom:10px}
#timer,#score{font-weight:bold}
input{padding:10px;font-size:18px;text-align:center;border-radius:8px;border:none;width:200px}
</style>
</head>

<body>
<div id="game"></div>

<audio id="acerto" src="sons/acerto.mp3"></audio>
<audio id="erro" src="sons/erro.mp3"></audio>

<script>
let fase=0;
let score=0;
let tempo=0;
let cron;

const fases=[
{img:'cenarios/lab.png',titulo:'Laborat√≥rio do Crime',texto:'O c√©rebro foi sabotado. Encontre a primeira pista!',pergunta:'O sulco central separa anatomicamente:',op:['A) Lobo frontal e temporal','B) Lobo parietal e occipital','C) Giro pr√©-central e p√≥s-central','D) T√°lamo e hipot√°lamo','E) Ponte e bulbo'],resp:2},
{img:'cenarios/hemisferios.png',titulo:'Sala dos Hemisf√©rios',texto:'Quem conecta os dois lados do c√©rebro?',pergunta:'O corpo caloso conecta diretamente:',op:['A) Hemisf√©rios cerebelares','B) Dienc√©falo e telenc√©falo','C) Hemisf√©rios cerebrais direito e esquerdo','D) Mesenc√©falo e ponte','E) C√≥rtex e medula'],resp:2},
{img:'cenarios/ventriculos.png',titulo:'Sala dos Ventr√≠culos',texto:'Onde nasce o l√≠quido protetor do c√©rebro?',pergunta:'O l√≠quido cerebrospinal √© produzido principalmente:',op:['A) Aqueduto cerebral','B) Espa√ßo subaracnoide','C) Plexos coroides','D) Seios venosos','E) 4¬∫ ventr√≠culo'],resp:2},
{img:'cenarios/vasos.png',titulo:'Sala dos Vasos',texto:'Uma art√©ria vital foi atingida!',pergunta:'A art√©ria cerebral m√©dia √© ramo direto da:',op:['A) Basilar','B) Vertebral','C) Comunicante posterior','D) Car√≥tida interna','E) Cerebral anterior'],resp:3},
{img:'cenarios/cerebelo.png',titulo:'C√¢mara do Equil√≠brio',texto:'Descubra a liga√ß√£o principal do cerebelo.',pergunta:'O ped√∫nculo cerebelar superior conecta o cerebelo ao:',op:['A) Bulbo','B) Ponte','C) Mesenc√©falo','D) T√°lamo','E) Dienc√©falo'],resp:2},
{img:'cenarios/tronco.png',titulo:'Tronco Encef√°lico',texto:'Encontre o limite entre ponte e bulbo.',pergunta:'O limite anat√¥mico entre ponte e bulbo √©:',op:['A) Sulco basilar','B) Sulco bulbopontino','C) Sulco limitante','D) Col√≠culo facial','E) √ìbex'],resp:1},
{img:'cenarios/memoria.png',titulo:'Sala da Mem√≥ria',texto:'A mem√≥ria guarda um feixe essencial.',pergunta:'O f√≥rnix conecta:',op:['A) T√°lamo e c√≥rtex frontal','B) Hipocampo e corpos mamilares','C) Corpo caloso e cerebelo','D) Am√≠gdala e hipot√°lamo','E) Put√¢men e globo p√°lido'],resp:1},
{img:'cenarios/decussacao.png',titulo:'Decussa√ß√£o',texto:'Onde ocorre o cruzamento das pir√¢mides?',pergunta:'A decussa√ß√£o das pir√¢mides localiza-se no:',op:['A) Mesenc√©falo','B) Ponte','C) Bulbo caudal','D) T√°lamo','E) Medula cervical'],resp:2},
{img:'cenarios/emocao.png',titulo:'Sala da Emo√ß√£o',texto:'√Årea ligada √† emo√ß√£o e mem√≥ria.',pergunta:'O giro parahipocampal pertence ao:',op:['A) Frontal','B) Parietal','C) Occipital','D) Temporal','E) √çnsula'],resp:3},
{img:'cenarios/medula.png',titulo:'Sala da Medula',texto:'Investigando os feixes sensitivos.',pergunta:'O fun√≠culo posterior cont√©m:',op:['A) Espinotal√¢micos','B) Corticoespinais','C) Gr√°cil e cuneiforme','D) Espinocerebelares','E) Reticuloespinais'],resp:2},
{img:'cenarios/ventriculo3.png',titulo:'Terceiro Ventr√≠culo',texto:'√öltima pista antes do cofre!',pergunta:'O forame interventricular comunica:',op:['A) 3¬∫ e 4¬∫','B) Laterais e 3¬∫','C) 4¬∫ e espa√ßo subaracnoide','D) Aqueduto e 4¬∫','E) Plexos coroides'],resp:1}
];

function startTimer(){
cron=setInterval(()=>{tempo++;updateHUD();},1000)
}

function stopTimer(){clearInterval(cron)}

function updateHUD(){
let hud=document.getElementById('hud');
if(!hud){
hud=document.createElement('div');
hud.id='hud';
document.getElementById('game').prepend(hud);
}
hud.innerHTML=`<div id='score'>Pontua√ß√£o: ${score}</div><div id='timer'>Tempo: ${tempo}s</div>`;
}

function render(){
const f=fases[fase];
let html=`<div class='card'><h1>${f.titulo}</h1><img src='${f.img}'><p>${f.texto}</p><h3>${f.pergunta}</h3>`;
f.op.forEach((o,i)=>{
html+=`<button onclick='responder(${i})'>${o}</button>`;
});
html+='</div>';
document.getElementById('game').innerHTML=html;
updateHUD();
}

function responder(i){
if(i===fases[fase].resp){
document.getElementById('acerto').play();
score+=10;
fase++;
if(fase<fases.length){setTimeout(render,600)} else cadeado();
}else{
document.getElementById('erro').play();
alert('Resposta incorreta. Tente novamente!');
}
}

function cadeado(){
stopTimer();
document.getElementById('game').innerHTML=`<div class='card'><h1>COFRE FINAL üîê</h1><p>Digite o c√≥digo secreto formado pelas respostas corretas:</p><input id='code'><br><br><button onclick='verificar()'>Abrir Cofre</button></div>`;
}

function verificar(){
let code=document.getElementById('code').value;
if(code==='23231212321') final();
else alert('C√≥digo incorreto!');
}

function final(){
document.getElementById('game').innerHTML=`<div class='card'><h1>CASO RESOLVIDO! üèÜ</h1><img src='cenarios/final.png'><p>Parab√©ns, detetive! Voc√™ concluiu com ${score} pontos em ${tempo} segundos!</p><button onclick='location.reload()'>Jogar novamente</button></div>`;
}

startTimer();
render();
</script>
</body>
</html>
